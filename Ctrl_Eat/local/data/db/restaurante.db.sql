BEGIN TRANSACTION;
DROP TABLE IF EXISTS "Cliente";
CREATE TABLE "Cliente" (
	"ID_CL"	INTEGER,
	"NOMBRE"	TEXT,
	"EMAIL"	TEXT UNIQUE,
	"TLF"	INTEGER,
	"CONTRASENA"	TEXT,
	PRIMARY KEY("ID_CL")
);
DROP TABLE IF EXISTS "Empleado";
CREATE TABLE "Empleado" (
	"ID_EM"	INTEGER,
	"NOMBRE"	TEXT,
	"CARGO"	TEXT,
	"CUENTA_BAN"	INTEGER,
	"ID_RES"	INTEGER,
	PRIMARY KEY("ID_EM"),
	FOREIGN KEY("ID_RES") REFERENCES "Restaurante"("ID_RES") ON DELETE CASCADE
);
DROP TABLE IF EXISTS "Ingrediente";
CREATE TABLE "Ingrediente" (
	"ID_IN"	INTEGER,
	"NOMBRE"	TEXT,
	PRIMARY KEY("ID_IN")
);
DROP TABLE IF EXISTS "PRODUCTO_INGREDIENTE";
CREATE TABLE "PRODUCTO_INGREDIENTE" (
	"id"	INTEGER,
	"id_pr"	INTEGER,
	"id_in"	INTEGER,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("id_in") REFERENCES "Ingrediente"("ID_IN") ON DELETE CASCADE,
	FOREIGN KEY("id_pr") REFERENCES "Producto"("ID_PR") ON DELETE CASCADE
);
DROP TABLE IF EXISTS "PRODUCTO_PEDIDO";
CREATE TABLE "PRODUCTO_PEDIDO" (
	"id"	INTEGER,
	"id_ped"	INTEGER,
	"id_producto"	INTEGER,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("id_ped") REFERENCES "Pedido"("ID_PED") ON DELETE CASCADE,
	FOREIGN KEY("id_producto") REFERENCES "Producto"("ID_PR") ON DELETE CASCADE
);
DROP TABLE IF EXISTS "Pedido";
CREATE TABLE "Pedido" (
	"ID_PED"	INTEGER,
	"DOMICILIO"	TEXT,
	"ID_CL"	INTEGER,
	"ID_RES"	INTEGER,
	PRIMARY KEY("ID_PED"),
	FOREIGN KEY("ID_CL") REFERENCES "Cliente"("ID_CL") ON DELETE CASCADE,
	FOREIGN KEY("ID_RES") REFERENCES "Restaurante"("ID_RES") ON DELETE CASCADE
);
DROP TABLE IF EXISTS "Producto";
CREATE TABLE "Producto" (
	"ID_PR"	INTEGER,
	"NOMBRE"	TEXT,
	"PRECIO"	INTEGER,
	"TIPO"	TEXT,
	"TAMANIO"	TEXT,
	"ALERGENOS"	TEXT,
	PRIMARY KEY("ID_PR")
);
DROP TABLE IF EXISTS "Restaurante";
CREATE TABLE "Restaurante" (
	"ID_RES"	INTEGER,
	"NOMBRE"	TEXT,
	"CIUDAD"	TEXT,
	PRIMARY KEY("ID_RES")
);
COMMIT;
